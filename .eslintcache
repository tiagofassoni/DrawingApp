[{"/Users/victorchan/Thinkful/capstone/src/index.js":"1","/Users/victorchan/Thinkful/capstone/src/App.js":"2","/Users/victorchan/Thinkful/capstone/src/Context.js":"3","/Users/victorchan/Thinkful/capstone/src/components/UndoButton.js":"4","/Users/victorchan/Thinkful/capstone/src/components/Canvas.js":"5","/Users/victorchan/Thinkful/capstone/src/components/Colors.js":"6","/Users/victorchan/Thinkful/capstone/src/components/handleUndo.js":"7","/Users/victorchan/Thinkful/capstone/src/components/Gallery.js":"8","/Users/victorchan/Thinkful/capstone/src/components/AddImage.js":"9","/Users/victorchan/Thinkful/capstone/src/components/BrushText.js":"10","/Users/victorchan/Thinkful/capstone/src/components/IncreaseBrush.js":"11","/Users/victorchan/Thinkful/capstone/src/components/DecreaseBrush.js":"12","/Users/victorchan/Thinkful/capstone/src/components/Crafts.js":"13","/Users/victorchan/Thinkful/capstone/src/components/config.js":"14"},{"size":231,"mtime":1607383070000,"results":"15","hashOfConfig":"16"},{"size":4746,"mtime":1608636480089,"results":"17","hashOfConfig":"16"},{"size":342,"mtime":1607523977038,"results":"18","hashOfConfig":"16"},{"size":296,"mtime":1607383070000,"results":"19","hashOfConfig":"16"},{"size":424,"mtime":1607383070000,"results":"20","hashOfConfig":"16"},{"size":332,"mtime":1607383070000,"results":"21","hashOfConfig":"16"},{"size":969,"mtime":1607383070000,"results":"22","hashOfConfig":"16"},{"size":611,"mtime":1607524014505,"results":"23","hashOfConfig":"16"},{"size":1730,"mtime":1608557792006,"results":"24","hashOfConfig":"16"},{"size":228,"mtime":1607383070000,"results":"25","hashOfConfig":"16"},{"size":319,"mtime":1607383070000,"results":"26","hashOfConfig":"16"},{"size":321,"mtime":1607383070000,"results":"27","hashOfConfig":"16"},{"size":391,"mtime":1607383070000,"results":"28","hashOfConfig":"16"},{"size":228,"mtime":1608643547697,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"1e1n3a",{"filePath":"33","messages":"34","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"32"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/victorchan/Thinkful/capstone/src/index.js",[],["61","62"],"/Users/victorchan/Thinkful/capstone/src/App.js",["63","64"],"import React, { useRef, useEffect, useState, useContext } from \"react\";\nimport config from \"./components/config\";\nimport Colors from \"./components/Colors\";\nimport Canvas from \"./components/Canvas\";\nimport UndoButton from \"./components/UndoButton\";\nimport AddImage from \"./components/AddImage\";\nimport Gallery from \"./components/Gallery\";\nimport { ArtsProvider } from \"./Context\";\nimport { artsContext } from \"./Context\";\n\n// utils\nimport { undo } from \"./components/handleUndo\";\nimport IncreaseBrush from \"./components/IncreaseBrush\";\nimport DecreaseBrush from \"./components/DecreaseBrush\";\nimport BrushText from \"./components/BrushText\";\n\nfunction App() {\n  //refs\n  const canvasRef = useRef(null);\n  const contextRef = useRef(null);\n\n  //context\n  const [arts, setArts] = useContext(artsContext);\n\n  // brush states\n  const [color, setColor] = useState(\"#000000\");\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [brushSize, setBrushSize] = useState(5);\n\n  // ctrl + z states\n  const [path, setPath] = useState([]);\n  const [lastPath, setLastPath] = useState([]);\n\n  useEffect(() => {\n    Promise.all([\n      fetch(`${config.API_ENDPOINT}/`, {headers: new Headers({'Authorization': 'Bearer b670ad9e-011b-4b6c-ad9d-b857cfb108eb'})})\n    ])\n      .then(([ArtsRes]) => {\n        console.log(\"There was an attempt\")\n        if (!ArtsRes.ok)\n          return ArtsRes.json().then(e => Promise.reject(e))\n\n        return Promise.all([\n          ArtsRes.json(),\n        ])\n      })\n      .then(([arts]) => {\n        this.setArts([...arts])\n      })\n      .catch(error => {\n        console.error({ error })\n      })\n  });\n\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    canvas.width = 250;\n    canvas.height = 250;\n\n    const ctx = canvas.getContext(\"2d\");\n    ctx.fillStyle = \"white\";\n    ctx.lineJoin = \"round\";\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.lineCap = \"round\";\n    ctx.strokeStyle = \"black\";\n    ctx.lineWidth = 5;\n    contextRef.current = ctx;\n  }, []);\n\n  // const getTouchPos = (canvasDom, touchEvent) => {\n  //   var rect = canvasDom.getBoundingClientRect();\n  //   return {\n  //     posx: touchEvent.touches[0].clientX - rect.left,\n  //     posy: touchEvent.touches[0].clientY - rect.top,\n  //   };\n  // };\n\n  const startDrawing = ({ nativeEvent }) => {\n    const { offsetX, offsetY } = nativeEvent;\n    const ctx = contextRef.current;\n\n    // get paths\n    setIsDrawing(true);\n    setPath([\n      ...path,\n      { x: offsetX, y: offsetY, color: color, brushSize: brushSize },\n    ]);\n    setLastPath([\n      { x: offsetX, y: offsetY, color: color, brushSize: brushSize },\n    ]);\n    ctx.strokeStyle = color;\n    ctx.lineWidth = brushSize;\n    ctx.beginPath();\n    ctx.moveTo(offsetX, offsetY);\n    setIsDrawing(true);\n  };\n\n  const endDrawingBoth = () => {\n    setIsDrawing(false);\n    setPath([...path, false]);\n    contextRef.current.closePath();\n  };\n\n  const draw = ({ nativeEvent }) => {\n    const canvas = canvasRef.current;\n    if (!isDrawing) {\n      return;\n    }\n    const { offsetX, offsetY } = nativeEvent;\n    if (\n      offsetX > canvas.width - 6 ||\n      offsetY > canvas.height - 6 ||\n      offsetX < 6 ||\n      offsetY < 6\n    ) {\n      setIsDrawing(false);\n      // get paths\n      setPath([...path, false]);\n      contextRef.current.closePath();\n      return;\n    }\n    // get paths\n    setLastPath([\n      ...lastPath,\n      { x: offsetX, y: offsetY, color: color, brushSize: brushSize },\n    ]);\n    setPath([\n      ...path,\n      { x: offsetX, y: offsetY, color: color, brushSize: brushSize },\n    ]);\n    contextRef.current.lineTo(offsetX, offsetY);\n    contextRef.current.stroke();\n  };\n\n  return (\n    <ArtsProvider>\n      <div>\n        <h1>Drawing App </h1>\n        <Canvas\n          startDrawing={startDrawing}\n          draw={draw}\n          endDrawing={endDrawingBoth}\n          canvasRef={canvasRef}\n        />\n        <div>\n          <Colors color={color} setColor={setColor} context={contextRef} />\n          <UndoButton\n            action={() =>\n              undo(\n                path,\n                setPath,\n                lastPath,\n                setLastPath,\n                canvasRef.current,\n                contextRef.current\n              )\n            }\n            enabling={lastPath.length}\n          />\n          <BrushText brushSize={brushSize} />\n          <IncreaseBrush brushSize={brushSize} setBrushSize={setBrushSize} />\n          <DecreaseBrush brushSize={brushSize} setBrushSize={setBrushSize} />\n        </div>\n        <div>\n          <AddImage canvas={canvasRef} color={color} ctx={contextRef} />\n        </div>\n        <div>\n          <Gallery />\n        </div>\n      </div>\n    </ArtsProvider>\n  );\n}\n\nexport default App;\n","/Users/victorchan/Thinkful/capstone/src/Context.js",[],"/Users/victorchan/Thinkful/capstone/src/components/UndoButton.js",[],"/Users/victorchan/Thinkful/capstone/src/components/Canvas.js",[],"/Users/victorchan/Thinkful/capstone/src/components/Colors.js",[],"/Users/victorchan/Thinkful/capstone/src/components/handleUndo.js",[],"/Users/victorchan/Thinkful/capstone/src/components/Gallery.js",[],"/Users/victorchan/Thinkful/capstone/src/components/AddImage.js",[],"/Users/victorchan/Thinkful/capstone/src/components/BrushText.js",[],"/Users/victorchan/Thinkful/capstone/src/components/IncreaseBrush.js",[],"/Users/victorchan/Thinkful/capstone/src/components/DecreaseBrush.js",[],"/Users/victorchan/Thinkful/capstone/src/components/Crafts.js",[],["65","66"],"/Users/victorchan/Thinkful/capstone/src/components/config.js",["67"],{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","replacedBy":"71"},{"ruleId":"72","severity":1,"message":"73","line":23,"column":10,"nodeType":"74","messageId":"75","endLine":23,"endColumn":14},{"ruleId":"72","severity":1,"message":"76","line":23,"column":16,"nodeType":"74","messageId":"75","endLine":23,"endColumn":23},{"ruleId":"68","replacedBy":"77"},{"ruleId":"70","replacedBy":"78"},{"ruleId":"79","severity":1,"message":"80","line":1,"column":1,"nodeType":"81","endLine":6,"endColumn":4},"no-native-reassign",["82"],"no-negated-in-lhs",["83"],"no-unused-vars","'arts' is assigned a value but never used.","Identifier","unusedVar","'setArts' is assigned a value but never used.",["82"],["83"],"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-global-assign","no-unsafe-negation"]